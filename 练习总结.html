<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/css.css" />
	</head>

	<body>
		<div class="wrap">
			
			<div class="top"></div>
			
			<div class="line"></div>
			
			<div class="bottom"></div>
		
		</div>
		
		
		
		
		<!--头部-->
		<div id="header">

			<div class="wrap">

				<a href="#" class="logo"><img src="img/img/logo.png" title="好的网站" /></a>
				<div class="music">
					<img src="img/img/musicon.gif"/>	
					<audio src="img/img/audio.mp3" loop ></audio>
				</div>
				
				<ul class="nav">
					<li>
						<div><img src="img/img/home_gruen.png" width="18" height="18" /></div>
						<a href="javascript:;"><img src="img/img/home.png" /></a>
					</li>
					<li>
						<div>Course</div>
						<a href="javascript:;">Course</a>
					</li>
					<li>
						<div>Works</div>
						<a href="javascript:;">Works</a>
					</li>
					<li>
						<div>About</div>
						<a href="javascript:;">About</a>
					</li>
					<li>
						<div>Team</div>
						<a href="javascript:;">Team</a>
					</li>
				</ul>
				<div class="str"></div>
			</div>

		</div>

		<!--内容区-->
		<div id="content">

			<ul class="main-content">
				<!--第一屏-->
				
				<li class="first">
					
					<div class="content">
						
						<ul>
							<li class="contentA activ">first layer</li>
							<li class="contentB">Two layer</li>
							<li class="contentC">third layer</li>
							<li class="contentD">four layer</li>
						</ul>
						
						
						<div class="contentE">
							<span class="active"></span>
							<span></span>
							<span></span>
							<span></span>
						</div>
						
					</div>

					

				</li>
				<!--第二屏-->
				<li class="second">
					<div class="content">
						<div class="contenthead">
							<p>
								EINIGE <br /> UNSERER <br /> KUNDEN <br />
							</p>
						</div>
						<div class="content2">
							<p>Das Kundenvertrauen in unsere Kompetenz ist die notwendige Basis einer erfolgreichen Zusammenarbeit, gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann. </p>
							<p>Diese und viele weitere große und kleine Kunden vertrauen uns seit Jahren, was uns stolz macht, und dafür sagen wir an dieser Stelle einfach mal. </p>

						</div>
						<div class="content3">
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="img">
								<div class="backward">
									<p>我是背面的文字</p>
								</div>
								<div class="forward"></div>
							</div>
							<div class="line1"></div>
							<div class="line2"></div>
							<div class="line3"></div>
							<div class="line4"></div>
							<div class="line5"></div>

						</div>
						<div class="plane1"></div>
					    <div class="plane2"></div>
					    <div class="plane3"></div>
					</div>

				</li>
				<!--第三屏-->
				<li class="third">
					<div class="content">
						<p class="heading">EINBLICK <br /> ERKENNTNIS <br /> ERGEBNIS
						</p>
						<div class="imgs">
							<div class="wrapimg">
								<img src="img/img/worksimg1.jpg" />
								<div class="betrow">
									<p>我是一段文字，这个网页费时费力呀，希望能尽快完成</p>
									<div></div>
								</div>
							</div>

							<div class="wrapimg">
								<img src="img/img/worksimg2.jpg" />
								<div class="betrow">
									<p>我是一段文字，这个网页费时费力呀，希望能尽快完成</p>
									<div></div>
								</div>
							</div>

							<div class="wrapimg">
								<img src="img/img/worksimg3.jpg" />
								<div class="betrow">
									<p>我是一段文字，这个网页费时费力呀，希望能尽快完成</p>
									<div></div>
								</div>
							</div>

							<div class="wrapimg">
								<img src="img/img/worksimg4.jpg" />
								<div class="betrow berrow">
									<p>我是一段文字，这个网页费时费力呀，希望能尽快完成</p>
									<div></div>
								</div>
							</div>

						</div>
						<div class="robot">
							<img src="img/img/robot.png" />
						</div>
						<div class="pencel1"></div>
					    <div class="pencel2"></div>
					    <div class="pencel3"></div>
					</div>

				</li>

				<li class="four">
					<div class="content">

						<div class="fcontent1">
							<p>DIE <br /> SPEZIELLE <br /> VIELFALT <br /></p>
						</div>
						<div class="fcontent2">
							<p>Der bunte Medienmix ist die Faszination die uns antreibt und das, was man an uns schätzt. Von A bis Z und von vorne bis hinten nehmen wir Ihr Projekt unter unsere Fittiche und lassen es zu etwas Großartigem heranwachsen.</p>
						</div>
						<div class="fcontent3">
							<img src="img/img/about1.jpg" class="back" />
							<ul>

							</ul>
						</div>
						<div class="fcontent4">
							<img src="img/img/about3.jpg" class="back"/>
							<ul>

							</ul>
						</div>
						<div class="fcontent5">
							
							
						</div>

					</div>

				</li>
				<li class="five">
					<div class="content">
						<div class="content-5-1">
							<p>
								WIR SIND <br />
								VOXELAIR
							</p>
						</div>
						<div class="content-5-2">
							<p>
								Wir sind seit 2002 eine Full-Service-Werbeagentur mit Stammsitz in Heimsheim, zwischen Stuttgart und Karlsruhe. <br />
								Über 60 Jahre Erfahrung vereinen das gesamte VoxelAir-Team. Dabei hat jedes Voxel neben professionellem Allroundwissen auch sein ganz spezielles Gebiet, um selbst die individuellsten Kundenwünsche schnell und kompetent umzusetzen.
								
							</p>
						</div>
						<div class="content-5-3">
							<ul>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
							</ul>
							
						</div>
						
					</div>

				</li>
			</ul>

		</div>

		<script type="text/javascript">
			window.onload = function() {
				var contentNode = document.querySelector("#content");
				var headerNode = document.querySelector("#header");
				var liNodes = document.querySelectorAll("#content>.main-content>li");
				var ulNode = document.querySelector("#content>.main-content");
				var navliNodes = document.querySelectorAll("#header .nav>li");
				var arrowNode = document.querySelector("#header>.wrap>.str");
				var imgNodesFour1=document.querySelector(".fcontent3>ul");
				var imgNodesFour2=document.querySelector(".fcontent4>ul");
				var spanNod=document.querySelectorAll(".contentE>span");
				var contentE=document.querySelector(".contentE")
				var liNodeS=document.querySelectorAll(".first>.content>ul>li");
				var contentfir=document.querySelector(".first>.content");
				var ulfirst=document.querySelector(".first>.content>ul");
				contentNode.style.height = document.documentElement.clientHeight - headerNode.offsetHeight + "px";
				var plane1=document.querySelector('.plane1');
				var plane2=document.querySelector('.plane2');
				var plane3=document.querySelector('.plane3');
				var pencel1=document.querySelector('.pencel1');
				var pencel2=document.querySelector('.pencel2');
				var pencel3=document.querySelector('.pencel3');
				var fcontent3=document.querySelector(".fcontent3");
				var fcontent4=document.querySelector(".fcontent4");
				var content51=document.querySelector(".content-5-1>p");
				var content52=document.querySelector(".content-5-2>p");
				var line=document.querySelector(".line");
				var top=document.querySelector(".top");
				var bottom=document.querySelector(".bottom");
				var wrap=document.querySelector('body>.wrap');
				var music=document.querySelector('.music>audio');
				var musicdiv=document.querySelector('.music');
				var musicimg=document.querySelector('.music>img');
				
				var now = 0;
				var lastscreen=0;
				//调整尺寸
				window.onresize = function() {

					contentNode.style.height = document.documentElement.clientHeight - headerNode.offsetHeight + "px";
					arrowNode.style.left = navliNodes[now].offsetLeft + (navliNodes[now].clientWidth - arrowNode.offsetWidth) / 2 + "px";
					ulNode.style.top = -liNodes[0].offsetHeight * now + "px";

				};
				
				
					document.body.onselectstart = function () { 
					    return false; 
					};
					 
					
					document.body.onmousedown = function () { 
					    return false; 
					}
				
				
				//音频
				musicdiv.onclick=function(){
					
					if(music.paused){
						musicimg.src='img/img/musicon.gif';
						music.play();
					}else{
						musicimg.src='img/img/musicoff.gif';
						music.pause();
					}
					
				}
				
				
				
				
				//开机动画
				
				intime();
				function intime(){
					var arr = ['bg1.jpg','bg2.jpg','bg3.jpg','bg4.jpg','bg5.jpg','about1.jpg','about2.jpg','about3.jpg','about4.jpg','worksimg1.jpg','worksimg2.jpg','worksimg3.jpg','worksimg4.jpg','team.png','greenLine.png'];
					var numb=0
					for(var i=0;i<arr.length;i++){
						var image=new Image();
						image.src="img/img/"+arr[i];
						image.onload=function(){
							
							numb++;
							line.style.width=numb*100/arr.length+"%";
						}
						
					}
				
					line.addEventListener("transitionend",function(){
						
							top.style.height=0;
							bottom.style.height=0;
							wrap.removeChild(line);
					
					});
					
					
					bottom.addEventListener("transitionend",function(){
						
						document.body.removeChild(wrap);
						head();
						music.play();
						
					});
					
			
					
					
				}
				
				
				
				
				
				//出入场
				
				
				
				
				
				function inn(num){
					
					switch(num){
						case 0:							
							contentE.style.opacity=1;
							contentE.style.bottom=5+"px";
							ulfirst.style.top=0+"px";
							ulfirst.style.opacity=1;							
							break;							
						case 1:
							plane1.style.transform="translate(0px,0px)";
							plane2.style.transform="translate(0px,0px)"
							plane3.style.transform="translate(0px,0px)"
							break;
						case 2:	
							pencel1.style.transform='translate(0px,0px)';
							pencel2.style.transform='translate(0px,0px)';
							pencel3.style.transform='translate(0px,0px)';
							break;
						case 3:
							fcontent3.style.transform="rotate(0deg)";
							fcontent4.style.transform="rotate(0deg)";
							break;
						
						case 4:
							content51.style.transform="translateX(0px)";
							content52.style.transform="translateX(0px)";
							break;
					}
					
					
				}
				
				
				
				function out(num){
					
					switch(num){
						case 0:
							
							contentE.style.opacity=0;
							contentE.style.bottom=-300+"px";
							ulfirst.style.top="-150%";
							ulfirst.style.opacity=0;
							break;
						case 1:
							plane1.style.transform="translate(-200px,-200px)";
							plane2.style.transform="translate(-400px,100px)";
							plane3.style.transform="translate(100px,-100px)";
							break;
						case 2:
							pencel1.style.transform="translate(0px,-100px)";
							pencel2.style.transform="translate(-100px,100px)";
							pencel3.style.transform="translate(100px,-200px)";
							break;
						case 3:
							fcontent3.style.transform="rotate(30deg)";
							fcontent4.style.transform="rotate(-30deg)";
							break;
						case 4:
							content51.style.transform="translateX(-550px)";
							content52.style.transform="translateX(550px)";
							break;
					}
					
					
				}
				
				
				
				
				
				
				/*
				 * 第五屏
				 */
				var li5Node=document.querySelectorAll(".content-5-3>ul>li");
				var time1=0;
				var time2=0;
				
				five();
				function five(){
					for(var i=0;i<li5Node.length;i++){
					li5Node[i].onmouseenter=function(){
						var canvas=document.createElement("canvas");
						canvas.width=118;
						canvas.height=448;
						
					
						
						
						for(var j=0;j<li5Node.length;j++){
							li5Node[j].style.opacity=0.3;
							
						}
						this.style.opacity=1;
						
						this.appendChild(canvas);
						if(canvas.getContext){
							var ctx=canvas.getContext("2d");
							blur3d();
							
							
						}
						
						function blur3d(){
							var arr=[];
							
							time1=setInterval(function(){					
								var x=Math.random()*400;
								var y=Math.random()*20+380;
								var ro=5;
								var r=Math.ceil(Math.random()*255);
								var g=Math.ceil(Math.random()*255);
						 		var b=Math.ceil(Math.random()*255);
								var a=1;
								
								var deg=0;
								var scale=10;
								var starX=x;
								var starY=y;
								arr.push({
									x:x,
									y:y,
									ro:ro,
									r:r,
									g:g,
									b:b,
									a:a,
									deg:deg,
									scale:scale,
									starX:starX,
									starY:starY
								})
								
			
								
							},1000/60);
							
							
							time2=setInterval(function(){
								ctx.clearRect(0,0,canvas.width,canvas.height);
								
								
								
								for(var i=0;i<arr.length;i++){
									ctx.save();
									ctx.fillStyle="rgba("+arr[i].r+","+arr[i].g+","+arr[i].b+","+arr[i].a+")";
									ctx.beginPath();
									ctx.arc(arr[i].x,arr[i].y,arr[i].ro,0,360*Math.PI/180);
									ctx.fill();					
									ctx.restore();
					
								}
								
								for(var i=0;i<arr.length;i++){
									arr[i].deg+=20;
									arr[i].x=arr[i].starX+Math.sin(arr[i].deg*Math.PI/180)*arr[i].scale*2;								
									arr[i].y=arr[i].starY-(arr[i].deg*Math.PI/180)*arr[i].scale;
									
									if(arr[i].y<30){
										arr.splice(i,1);
									}
									
									
								}
								
							},1000/60)
						
						
						
					}
						
						
						
						
						
					}
					li5Node[i].onmouseleave=function(){
						for(var j=0;j<li5Node.length;j++){
							li5Node[j].style.opacity=1;
						}
						var canvas=document.querySelector("canvas");
						this.removeChild(canvas);
						
						clearInterval(time1);
						clearInterval(time2);
						
					}
					
					
					
				}
				
				
					
					
					
					
				}
				
					
			
				

				/*第一屏
				 
				 * */
				
				var nowImg=0;
				var autoImg=0;
				var time=0;
				
				function move3d(){
					
					var flag=false;
					
					for(var i=0;i<spanNod.length;i++){
						spanNod[i].index=i;
					
						spanNod[i].onclick=function(ev){
							ev=ev||event;
							if(flag){
								return;
							}
							flag=true;
							for(var i=0;i<spanNod.length;i++){
								spanNod[i].classList.remove('active');
								liNodeS[i].classList.remove("leftShow");
								liNodeS[i].classList.remove("rightShow");
								liNodeS[i].classList.remove("rightHide");
								liNodeS[i].classList.remove("leftHide");
								liNodeS[i].classList.remove('activ');
							}
							this.classList.add("active");
							
							if(this.index>nowImg){
								liNodeS[nowImg].classList.add('leftHide');
								liNodeS[this.index].classList.add('rightShow');							
							}
							
							if(this.index<nowImg){
								liNodeS[nowImg].classList.add('rightHide');
								liNodeS[this.index].classList.add('leftShow');							
							}
							if(this.index===nowImg){
								
								liNodeS[this.index].classList.add('activ');							
							}
							nowImg=this.index;
							autoImg=nowImg;
							setTimeout(function(){
								flag=false;
							},600)
							
						}
					}
					

					auto3d();
					
					contentfir.onmouseover=function(){
						clearInterval(time);
					
					}
					
					contentfir.onmouseleave=function(){
						auto3d();
					}
					
					
				}
				
				function auto3d(){
					
					
					clearInterval(time);					
					time=setInterval(function(){
						
						for(var i=0;i<spanNod.length;i++){
							spanNod[i].classList.remove('active');
							liNodeS[i].classList.remove("leftShow");
							liNodeS[i].classList.remove("rightShow");
							liNodeS[i].classList.remove("rightHide");
							liNodeS[i].classList.remove("leftHide");
							liNodeS[i].classList.remove('activ');
						}
						
						liNodeS[autoImg].classList.add('leftHide');
						
						autoImg++;
						if(autoImg==liNodeS.length){
							autoImg=0;
						}
						liNodeS[autoImg].classList.add('rightShow');
						spanNod[autoImg].classList.add('active');
						nowImg=autoImg;
					},2000)
		
					
				}
				
				
				
				
		
				

				//头部函数
				function head() {

					var timenum;

					for(var i = 0; i < navliNodes.length; i++) {
						navliNodes[i].index = i;
						out(i);
						navliNodes[i].onclick = function() {
							lastscreen=now;
							now=this.index;
							move(now);
						}
					}

					if(document.addEventListener) {
						document.addEventListener("DOMMouseScroll", function(ev) {
							ev = ev || event;
							clearTimeout(timenum);
							timenum = setTimeout(function() {
								if(ev.detail < 0) {
									
									if(now > 0) {
										lastscreen=now;
										now--;
									}
									move(now);
									
								}
								if(ev.detail > 0) {
									
									if(now < navliNodes.length) {
										lastscreen=now;
										now++;
									}
									move(now);
								}

							}, 200)

							ev.preventDefault();

						})
					}

					document.onmousewheel = function(ev) {
						ev = ev || event;
						clearTimeout(timenum);
						timenum = setTimeout(function() {

							if(ev.wheelDelta > 0) {
								
								if(now > 0) {
									lastscreen=now;
									now--;
								}
								move(now);

							}
							if(ev.wheelDelta < 0) {
								if(now < navliNodes.length) {
									lastscreen=now;
									now++;
								}
								move(now);
							}

						}, 200)

						
						ev.preventDefault();
						return false;

					}
					
						
					move(now);
					
					//move函数
					
					function move(now) {

						arrowNode.style.left = navliNodes[now].offsetLeft + (navliNodes[now].clientWidth - arrowNode.offsetWidth) / 2 + "px"
						ulNode.style.top = -liNodes[0].offsetHeight * now + "px";

						for(var i = 0; i < navliNodes.length; i++) {

							navliNodes[i].classList.remove("active");

						}
						navliNodes[now].classList.add("active");
						
						
						if(now!==lastscreen){
							out(lastscreen);
						}
						inn(now);
						
						contentE.addEventListener("transitionend",function(){					
							move3d();
						});
						
						

					};

				}
				
				
				
				/*第四屏*/
				
				
				
				changeP(imgNodesFour1,"img/img/about2.jpg");
				changeP(imgNodesFour2,"img/img/about4.jpg");
				function changeP(ul,src){
					for(var i=0;i<4;i++){
						var liNode=document.createElement("li");
						var imgNode=document.createElement("img");
						var w=ul.clientWidth/2;
						var h=ul.clientHeight/2;
					
						liNode.style.width=w+"px";
						
						liNode.style.height=h+"px";
					
						imgNode.style.left=-(i%2)*w+"px";
						
						imgNode.style.top=-Math.floor(i/2)*h+"px";
						
						
						imgNode.src=src;
					
						liNode.appendChild(imgNode);
						
						ul.appendChild(liNode);
						
						
						
					}
					
					
					ul.onmouseenter=function(){
						var imgNodes=this.querySelectorAll("li>img");
						var ImageNode=this.parentNode.children[0];
						
						
						imgNodes[0].style.top=h+"px";
						imgNodes[1].style.left=-2*w+"px";
						imgNodes[2].style.left=w+"px";
						imgNodes[3].style.top=-2*h+"px";
						ImageNode.style.transform="scale(1)";
						
					}
					ul.onmouseleave=function(){
						var imgNodes=this.querySelectorAll("li>img");
						var ImageNode=this.parentNode.children[0];
						
						
						for(var i=0;i<imgNodes.length;i++){
							imgNodes[i].style.left=-(i%2)*w+"px";
							imgNodes[i].style.top=-Math.floor(i/2)*h+"px";						
						}
						ImageNode.style.transform="scale(1.5)";
					
					}
					
			
				}
				
				
				
			}
		</script>

	</body>

</html>